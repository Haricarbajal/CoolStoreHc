<html>

<head>
    <script src="https://cdn.tailwindcss.com"></script>
</head>


<div class="flex justify-between bg-white p-4 w-5/5 h-24 bg-gray-500  shadow-[0_5px_45px_-25px_rgba(0,0,0,0.3)]">
    <h1 class="text-3xl">Cool StoreüõçÔ∏è</h1>
    <h1 class="text-5xl">üõí</h1>
</div>
<contenedor-articulos class="grid grid-cols-3 gap-4 mx-auto my-10 max-w-7xl flex-col items-center text-center "></contenedor-articulos>
<template>
    <div class="grid-drones w-96 border-solid border-2">
        <div class="shadow-xl">
            <img class="imagen rounded-t-xl" src="" alt="">
            <a class="nombre" href="">nombre</a>
            <h1 class="rating">rating</h1>
            <h1 class="fecha">fecha</h1>
            <h1 class="precio">precio</h1>
        </div>
    </div>
</template>

</html>
<script>
    class Drones extends HTMLElement{
        constructor(){
            super();
        }

        connectedCallback(){
            this.mostrarArticulos();
        }

        async mostrarArticulos(){
            try{
                const response = await fetch("https://products-foniuhqsba-uc.a.run.app/Drones");
                if(!response.ok){
                    throw new Error('Error al cargar los drones');
                }
                const articles = await response.json();
                // console.log(articles)
                this.render(articles);
            }catch(error){
                console.log(error)
            }
        }

        render(articles){
            const template = document.querySelector('template')
            this.innerHTML = '';

            articles.forEach(element => {
                console.log(element)
                const contenido = document.importNode(template.content, true);
                const imagen = contenido.querySelector('.imagen');
                const nombre = contenido.querySelector('.nombre'); 
                const rating = contenido.querySelector('.rating');
                const fecha = contenido.querySelector('.fecha');
                const precio = contenido.querySelector('.precio');

                imagen.src = element.image;
                nombre.textContent = element.title;
                nombre.href = `articulo.html?id=${element.id}`;
                rating.textContent = element.rating;
                fecha.textContent = element.date;
                precio.textContent = element.price

                this.appendChild(contenido)
            });
        }
    }

    customElements.define("contenedor-articulos", Drones)
</script>